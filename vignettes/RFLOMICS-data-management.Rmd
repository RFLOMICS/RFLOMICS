---
title: "RFLOMICS-data-management"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{RFLOMICS-data-management}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)
```

```{r setup}
library(RFLOMICS)
#load(FlomicsMultiAssayExp)
```


## Datasets managing in R:

All input data (abundance, metadata, statistical framework), choice about tools, parameters, threshold, and analysis results are managed in (by) the FlomicsMultiAssayExp object, an instance of the class MultiAssayExperiment (MAE). See the next paragraph to have a description. 
This object is created by FlomicsMultiAssay.constructor method. This method takes in input : a list of lists (per dataset) of abundance matrices (and their metadata if it exist), and "Design" object.

Datasets are managed in the FlomicsMultiAssayExp object, an instance of the class MultiAssayExperiment (MAE).
See the [MAE package vignette](https://www.bioconductor.org/packages/release/bioc/vignettes/MultiAssayExperiment/inst/doc/MultiAssayExperiment.html) for more details.

<!-- ![Example of a FlomicsMultiAssayExp object]( `r paste(path.package("RFLOMICS"),"/DevDoc/FMA_Struct.png",sep="")` ) -->

In this example two datasets and a Design are managed into the MAE object. Design is positioned as @metada in the root of the object, as well as
@colData and @SampleMap. The different datasets are stored in the @ExperimentList (which managed object of class SummarizedExperiment). 
Each object has 3 slots: 
* colData (in case of change of the global Design)
* assays: the matrix
* metadata: It will store all the results of the different analysis methods. By example, for the datasetName.filtred object:
+ filteredFeatures: will contain the results of the FilterLowAbundance method.
+ PCAlist: the results of PCA which have been done on the dataset.
+ normalisation: the parameters and output of the RunNormalization method.
+ contrasts: the list of contrast that have been choosed to analyse the dataset.
+ DiffExpAnal: the parameters and output of the RunDiffAnalysis method.
+ CoExpAnal: the parameters and output of the runCoExpression method.
+ EnrichAnal: the parameters and output of the EnrichAnal method.
